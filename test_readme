## Pull Request Metrics

Below are the key metrics calculated for pull requests using the GitHub API:

### 1. **PR Size**
- **Description**: Measures the number of lines of code added, modified, or deleted in a Pull Request (PR). 
- **Calculation**: 
  - `PR Size = Additions + Deletions + Changed Files`
- **API Endpoint**: `GET /repos/{owner}/{repo}/pulls/{pull_number}`

### 2. **PR Request Cycle Time**
- **Description**: The time from when a PR is opened to when it is closed or merged.
- **Calculation**: 
  - `Cycle Time = merged_at - created_at`
- **API Endpoint**: `GET /repos/{owner}/{repo}/pulls/{pull_number}`

### 3. **PR Code Review Lead Time**
- **Description**: The time between the PR being opened and the review starting.
- **Calculation**: 
  - `Lead Time = submitted_at (first review) - created_at (PR creation)`
- **API Endpoint**: `GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews`

### 4. **PR Success Rate**
- **Description**: Percentage of PRs that are successfully merged into the main branch.
- **Calculation**: 
  - `Success Rate = (Number of merged PRs / Total number of PRs) * 100`
- **API Endpoint**: `GET /repos/{owner}/{repo}/pulls`

### 5. **PR Comments Count**
- **Description**: Number of comments made on a PR.
- **Calculation**: 
  - `Comments Count = Number of comments on the PR`
- **API Endpoint**: 
  - `GET /repos/{owner}/{repo}/issues/{issue_number}/comments`
  - `GET /repos/{owner}/{repo}/pulls/{pull_number}/comments`

### 6. **Negative Feedback Rate**
- **Description**: Percentage of PRs that receive requested changes (negative feedback).
- **Calculation**: 
  - `Negative Feedback Rate = (Number of PRs with requested changes / Total number of PRs) * 100`
- **API Endpoint**: `GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews`

### 7. **PR Rework Time**
- **Description**: Time taken to implement requested changes after the first review.
- **Calculation**: 
  - `Rework Time = Timestamp of next push after requested_changes - Timestamp of requested_changes`
- **API Endpoint**: 
  - `GET /repos/{owner}/{repo}/pulls/{pull_number}/commits`

### 8. **PR Review Time**
- **Description**: Time a reviewer takes to complete the review once they start.
- **Calculation**: 
  - `Review Time = submitted_at (final review) - submitted_at (first review)`
- **API Endpoint**: `GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews`

## Automating the Calculation

To automate the calculations, follow these steps:
1. Use the GitHub API to gather relevant data for each pull request.
2. Extract timestamps and events from the API responses.
3. Store the data in a database or use a data processing tool (like Python/Pandas) for analysis.
4. Perform the calculations based on the formulas provided above.

For more information, refer to the [GitHub API Documentation](https://docs.github.com/en/rest).
